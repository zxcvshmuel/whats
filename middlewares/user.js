function _0x46a5(_0x58a30b, _0x5e7b04) { const _0x3accff = _0x3acc(); return _0x46a5 = function (_0x46a54b, _0x2378f6) { _0x46a54b = _0x46a54b - 0x131; let _0x5826b8 = _0x3accff[_0x46a54b]; return _0x5826b8; }, _0x46a5(_0x58a30b, _0x5e7b04); } const _0x3b476a = _0x46a5; function _0x3acc() { const _0x196921 = ['token', 'left_msg', 'password', 'Sorry\x20you\x20dont\x20have\x20a\x20plan.\x20Please\x20buy\x20a\x20plan\x20to\x20use\x20this\x20feature', '3956826SjitLC', '676ViilAu', 'Access\x20denies!\x20Invalid\x20token\x20found.', '10oFIIJm', 'decode', 'JWTKEY', 'query', 'env', 'plan_data', '4446sxrKKh', '245250BfVnhH', 'split', 'get', 'Your\x20token:\x20', 'admin', 'role', 'user', '1529UqTGto', 'No\x20token\x20found', '13nkCTdb', '52366FdOUDz', 'SELECT\x20*\x20FROM\x20user\x20WHERE\x20uid\x20=\x20\x27', '124812cDgTia', '2499847zrFuyp', 'plan', '\x27\x20and\x20password\x20=\x20\x27', 'Authorization', 'length', '733035dVFklb', 'email', 'SELECT\x20*\x20FROM\x20admin\x20WHERE\x20email\x20=\x20\x27', 'jsonwebtoken', 'Database\x20query\x20error', '8oxvLlX', 'Invalid\x20token\x20found', 'uid', 'json', 'log', './admin', 'Unauthorized\x20token', '../config/config', 'verify']; _0x3acc = function () { return _0x196921; }; return _0x3acc(); } (function (_0x52a733, _0x356422) { const _0x40f695 = _0x46a5, _0x518080 = _0x52a733(); while (!![]) { try { const _0x3c19d9 = parseInt(_0x40f695(0x141)) / 0x1 * (parseInt(_0x40f695(0x142)) / 0x2) + parseInt(_0x40f695(0x137)) / 0x3 * (parseInt(_0x40f695(0x15d)) / 0x4) + parseInt(_0x40f695(0x14a)) / 0x5 + parseInt(_0x40f695(0x15c)) / 0x6 + parseInt(_0x40f695(0x145)) / 0x7 * (parseInt(_0x40f695(0x14f)) / 0x8) + -parseInt(_0x40f695(0x138)) / 0x9 * (-parseInt(_0x40f695(0x131)) / 0xa) + -parseInt(_0x40f695(0x13f)) / 0xb * (parseInt(_0x40f695(0x144)) / 0xc); if (_0x3c19d9 === _0x356422) break; else _0x518080['push'](_0x518080['shift']()); } catch (_0x2a43e0) { _0x518080['push'](_0x518080['shift']()); } } }(_0x3acc, 0x51ebb)); const con = require(_0x3b476a(0x156)), jwt = require(_0x3b476a(0x14d)), awaitmysql = require('../function/awaitmysql'), { issession } = require(_0x3b476a(0x154)); module['exports'] = { 'isvalid': async (_0x491902, _0x13c048, _0x3eef8e) => { const _0x4e4833 = _0x3b476a, _0x49ae3f = _0x491902[_0x4e4833(0x13a)](_0x4e4833(0x148)); if (!_0x49ae3f) return _0x13c048[_0x4e4833(0x152)]({ 'msg': _0x4e4833(0x140), 'token': _0x4e4833(0x13b) + _0x49ae3f, 'logout': !![] }); try { if (_0x49ae3f) jwt[_0x4e4833(0x157)](_0x49ae3f[_0x4e4833(0x139)]('\x20')[0x1], process['env'][_0x4e4833(0x133)], (_0x286bbc, _0x3a5fe2) => { const _0x2b0e69 = _0x4e4833; if (_0x286bbc) return _0x13c048[_0x2b0e69(0x152)]({ 'success': 0x0, 'msg': 'Invalid\x20token\x20found', 'logout': !![] }); else con[_0x2b0e69(0x134)](_0x2b0e69(0x14c) + _0x3a5fe2[_0x2b0e69(0x14b)] + _0x2b0e69(0x147) + _0x3a5fe2[_0x2b0e69(0x15a)] + '\x27', (_0x4429ae, _0x927a16) => { const _0x57d3b9 = _0x2b0e69; if (_0x4429ae) { _0x13c048['json']({ 'success': ![], 'msg': 'Database\x20query\x20error', 'err': _0x4429ae, 'token': _0x49ae3f }); return; } else { if (_0x927a16[_0x57d3b9(0x149)] > 0x0) { if (_0x927a16[0x0][_0x57d3b9(0x13d)] === 'admin') _0x491902[_0x57d3b9(0x132)] = _0x3a5fe2, _0x3eef8e(); else return _0x13c048[_0x57d3b9(0x152)]({ 'success': 0x0, 'msg': _0x57d3b9(0x155), 'token': _0x49ae3f, 'logout': !![] }); } else return _0x13c048[_0x57d3b9(0x152)]({ 'success': 0x0, 'msg': _0x57d3b9(0x150), 'token': _0x49ae3f, 'logout': !![] }); } }); }); else return _0x13c048[_0x4e4833(0x152)]({ 'success': 0x0, 'msg': _0x4e4833(0x15e), 'logout': !![] }); } catch (_0x53c9cd) { console[_0x4e4833(0x153)](_0x53c9cd); } }, 'isuser': async (_0x5418b9, _0x1d9e3a, _0x583877) => { const _0xa69a8e = _0x3b476a, _0x2efd0e = _0x5418b9['get'](_0xa69a8e(0x148)); if (!_0x2efd0e) return _0x1d9e3a[_0xa69a8e(0x152)]({ 'msg': _0xa69a8e(0x140), 'token': _0xa69a8e(0x13b) + _0x2efd0e, 'logout': !![] }); try { if (_0x2efd0e) jwt['verify'](_0x2efd0e[_0xa69a8e(0x139)]('\x20')[0x1], process[_0xa69a8e(0x135)][_0xa69a8e(0x133)], (_0xc35dc6, _0x46476c) => { const _0x2c3cf1 = _0xa69a8e; if (_0xc35dc6) return _0x1d9e3a[_0x2c3cf1(0x152)]({ 'success': 0x0, 'msg': _0x2c3cf1(0x150), 'logout': !![] }); else con[_0x2c3cf1(0x134)]('SELECT\x20*\x20FROM\x20user\x20WHERE\x20email\x20=\x20\x27' + _0x46476c['email'] + _0x2c3cf1(0x147) + _0x46476c[_0x2c3cf1(0x15a)] + '\x27', (_0x21fa36, _0x3b1520) => { const _0x38d3ac = _0x2c3cf1; if (_0x21fa36) { _0x1d9e3a[_0x38d3ac(0x152)]({ 'success': ![], 'msg': _0x38d3ac(0x14e), 'err': _0x21fa36, 'token': _0x2efd0e }); return; } else { if (_0x3b1520[_0x38d3ac(0x149)] > 0x0) { if (_0x3b1520[0x0][_0x38d3ac(0x13d)] === _0x38d3ac(0x13e)) _0x5418b9[_0x38d3ac(0x132)] = _0x46476c, _0x583877(); else return _0x1d9e3a[_0x38d3ac(0x152)]({ 'success': 0x0, 'msg': 'Unauthorized\x20token', 'token': _0x2efd0e, 'logout': !![] }); } else return _0x1d9e3a[_0x38d3ac(0x152)]({ 'success': 0x0, 'msg': 'Invalid\x20token\x20found', 'token': _0x2efd0e, 'logout': !![] }); } }); }); else return _0x1d9e3a['json']({ 'success': 0x0, 'msg': _0xa69a8e(0x15e), 'logout': !![] }); } catch (_0x461116) { console[_0xa69a8e(0x153)](_0x461116); } }, 'isvaliddownload': async (_0x5b8d2e, _0x26d407, _0x25fa31) => { const _0x12a11c = _0x3b476a, _0x3d1f53 = _0x5b8d2e[_0x12a11c(0x134)][_0x12a11c(0x158)]; if (!_0x3d1f53) return _0x26d407['json']({ 'msg': 'No\x20token\x20found', 'token': _0x12a11c(0x13b) + _0x3d1f53, 'logout': !![] }); try { if (_0x3d1f53) jwt['verify'](_0x3d1f53, process['env'][_0x12a11c(0x133)], (_0x5c265e, _0x1f07d9) => { const _0x4d1aeb = _0x12a11c; if (_0x5c265e) return _0x26d407['json']({ 'success': 0x0, 'msg': _0x4d1aeb(0x150) }); else con[_0x4d1aeb(0x134)](_0x4d1aeb(0x14c) + _0x1f07d9[_0x4d1aeb(0x14b)] + _0x4d1aeb(0x147) + _0x1f07d9[_0x4d1aeb(0x15a)] + '\x27', (_0xda3cff, _0x17e6a4) => { const _0x57ab3f = _0x4d1aeb; if (_0xda3cff) { _0x26d407['json']({ 'success': ![], 'msg': 'Database\x20query\x20error', 'err': _0xda3cff, 'token': _0x3d1f53 }); return; } else { if (_0x17e6a4[_0x57ab3f(0x149)] > 0x0) { if (_0x17e6a4[0x0][_0x57ab3f(0x13d)] === _0x57ab3f(0x13c)) _0x5b8d2e['decode'] = _0x1f07d9, _0x25fa31(); else return _0x26d407[_0x57ab3f(0x152)]({ 'success': 0x0, 'msg': _0x57ab3f(0x155), 'token': _0x3d1f53, 'logout': !![] }); } else return _0x26d407['json']({ 'success': 0x0, 'msg': _0x57ab3f(0x150), 'token': _0x3d1f53, 'logout': !![] }); } }); }); else return _0x26d407[_0x12a11c(0x152)]({ 'success': 0x0, 'msg': _0x12a11c(0x15e), 'logout': !![] }); } catch (_0x544032) { console['log'](_0x544032); } }, 'checkplan': async (_0x39736d, _0x1a4807, _0x1f1115) => { const _0x363ff9 = _0x3b476a, _0x535997 = await awaitmysql[_0x363ff9(0x134)](_0x363ff9(0x143) + _0x39736d[_0x363ff9(0x132)][_0x363ff9(0x151)] + '\x27\x20'); if (_0x535997['length'] < 0x1 || !_0x535997[0x0][_0x363ff9(0x146)]) return _0x1a4807['json']({ 'msg': _0x363ff9(0x15b) }); else _0x39736d[_0x363ff9(0x146)] = parseInt(_0x535997[0x0]?.[_0x363ff9(0x159)]), _0x39736d[_0x363ff9(0x136)] = JSON['parse'](_0x535997[0x0]['plan']), _0x1f1115(); } };