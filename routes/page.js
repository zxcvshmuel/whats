function _0x40b8() { const _0x428e39 = ['2716908HiDMXW', '../config/config', 'Router', 'get', 'content', 'SELECT\x20*\x20FROM\x20page\x20WHERE\x20slug\x20=\x20\x27', 'INSERT\x20INTO\x20page\x20(title,\x20meta,\x20content,\x20slug)\x20VALUES\x20(?,\x20?,\x20?,\x20?)', '../middlewares/user', 'body', '165AmlzmM', 'moment', 'post', 'length', '../function/awaitmysql', '7eBmTdy', '/del', '/get', 'Server\x20error', 'Slug:\x20', '3123810Oeocym', 'exports', 'Page\x20was\x20deleted', 'log', 'query', '233898FZJuaS', '2025600JlksrS', '1228000QOdIqe', 'json', '5581016IwORaJ', 'bcrypt', '1901428Vrpvmc', '/add', 'slug', 'title', 'express', 'meta']; _0x40b8 = function () { return _0x428e39; }; return _0x40b8(); } function _0x413b(_0x49fdfc, _0x89e3aa) { const _0x40b81b = _0x40b8(); return _0x413b = function (_0x413bb7, _0x293cda) { _0x413bb7 = _0x413bb7 - 0xc7; let _0x44b735 = _0x40b81b[_0x413bb7]; return _0x44b735; }, _0x413b(_0x49fdfc, _0x89e3aa); } const _0x224953 = _0x413b; (function (_0x27a845, _0x40de7d) { const _0x415767 = _0x413b, _0x2721df = _0x27a845(); while (!![]) { try { const _0x46650c = -parseInt(_0x415767(0xe7)) / 0x1 + parseInt(_0x415767(0xc7)) / 0x2 + -parseInt(_0x415767(0xe6)) / 0x3 + parseInt(_0x415767(0xcd)) / 0x4 + parseInt(_0x415767(0xd6)) / 0x5 * (parseInt(_0x415767(0xe5)) / 0x6) + parseInt(_0x415767(0xdb)) / 0x7 * (-parseInt(_0x415767(0xe9)) / 0x8) + parseInt(_0x415767(0xe0)) / 0x9; if (_0x46650c === _0x40de7d) break; else _0x2721df['push'](_0x2721df['shift']()); } catch (_0x1d37e0) { _0x2721df['push'](_0x2721df['shift']()); } } }(_0x40b8, 0xa1c73)); const router = require(_0x224953(0xcb))[_0x224953(0xcf)](), con = require(_0x224953(0xce)), bcrypt = require(_0x224953(0xea)), { isvalid, isuser } = require(_0x224953(0xd4)), moment = require(_0x224953(0xd7)), awaitmysql = require(_0x224953(0xda)); router[_0x224953(0xd8)](_0x224953(0xc8), isvalid, async (_0x483f6f, _0x50a473) => { const _0x2742eb = _0x224953; try { if (!_0x483f6f[_0x2742eb(0xd5)][_0x2742eb(0xca)] || !_0x483f6f[_0x2742eb(0xd5)][_0x2742eb(0xcc)] || !_0x483f6f[_0x2742eb(0xd5)][_0x2742eb(0xd1)] || !_0x483f6f[_0x2742eb(0xd5)][_0x2742eb(0xc9)]) return _0x50a473[_0x2742eb(0xe8)]({ 'msg': 'Send\x20all\x20required\x20fileds.' }); const _0x225fc0 = await awaitmysql[_0x2742eb(0xe4)](_0x2742eb(0xd2) + _0x483f6f[_0x2742eb(0xd5)][_0x2742eb(0xc9)] + '\x27\x20'); if (_0x225fc0[_0x2742eb(0xd9)] > 0x0) return _0x50a473['json']({ 'msg': _0x2742eb(0xdf) + _0x483f6f[_0x2742eb(0xd5)][_0x2742eb(0xc9)] + '\x20already\x20exist.\x20Please\x20choose\x20another\x20slug.' }); con[_0x2742eb(0xe4)](_0x2742eb(0xd3), [_0x483f6f[_0x2742eb(0xd5)]['title'], _0x483f6f[_0x2742eb(0xd5)]['meta'], _0x483f6f[_0x2742eb(0xd5)][_0x2742eb(0xd1)], _0x483f6f['body'][_0x2742eb(0xc9)]], function (_0x4e81f1, _0x3e5182) { if (_0x4e81f1) throw _0x4e81f1; _0x50a473['json']({ 'msg': 'Page\x20has\x20been\x20added', 'success': !![] }); }); } catch (_0x5afa5b) { _0x50a473[_0x2742eb(0xe8)]({ 'msg': _0x2742eb(0xde), 'err': _0x5afa5b }), console[_0x2742eb(0xe3)](_0x5afa5b); } }), router[_0x224953(0xd0)](_0x224953(0xdd), async (_0x5775ba, _0x400620) => { const _0x10d21b = _0x224953; try { const _0x5097b4 = await awaitmysql[_0x10d21b(0xe4)]('SELECT\x20*\x20FROM\x20page'); _0x400620[_0x10d21b(0xe8)]({ 'success': !![], 'data': _0x5097b4 }); } catch (_0x1eda21) { _0x400620[_0x10d21b(0xe8)]({ 'msg': _0x10d21b(0xde), 'err': _0x1eda21 }), console[_0x10d21b(0xe3)](_0x1eda21); } }), router['post']('/get_by_slug', async (_0x19b5f6, _0x527536) => { const _0x3bb38c = _0x224953; try { const _0x37808d = await awaitmysql[_0x3bb38c(0xe4)](_0x3bb38c(0xd2) + _0x19b5f6['body']['slug'] + '\x27\x20'); if (_0x37808d[_0x3bb38c(0xd9)] < 0x1) return _0x527536[_0x3bb38c(0xe8)]({ 'msg': 'No\x20Page\x20found' }); _0x527536[_0x3bb38c(0xe8)]({ 'data': _0x37808d[0x0], 'success': !![] }); } catch (_0x15ac62) { _0x527536[_0x3bb38c(0xe8)]({ 'msg': _0x3bb38c(0xde), 'err': _0x15ac62 }), console['log'](_0x15ac62); } }), router[_0x224953(0xd8)](_0x224953(0xdc), isvalid, async (_0x199bb1, _0x27a15e) => { const _0x23fc0c = _0x224953; try { const _0x452521 = await awaitmysql[_0x23fc0c(0xe4)]('DELETE\x20FROM\x20page\x20WHERE\x20id\x20=\x20\x27' + _0x199bb1[_0x23fc0c(0xd5)]['id'] + '\x27\x20'); _0x27a15e['json']({ 'msg': _0x23fc0c(0xe2), 'success': !![] }); } catch (_0x12dd0a) { _0x27a15e[_0x23fc0c(0xe8)]({ 'msg': 'Server\x20error', 'err': _0x12dd0a }), console[_0x23fc0c(0xe3)](_0x12dd0a); } }), module[_0x224953(0xe1)] = router;