const _0x3a0811 = _0x37a7; (function (_0x5eacc6, _0xe84b64) { const _0xd6d3f2 = _0x37a7, _0x1b6903 = _0x5eacc6(); while (!![]) { try { const _0x3c1135 = parseInt(_0xd6d3f2(0x12c)) / 0x1 + -parseInt(_0xd6d3f2(0x12e)) / 0x2 * (-parseInt(_0xd6d3f2(0x13d)) / 0x3) + parseInt(_0xd6d3f2(0x14a)) / 0x4 * (-parseInt(_0xd6d3f2(0x15a)) / 0x5) + parseInt(_0xd6d3f2(0x15f)) / 0x6 * (-parseInt(_0xd6d3f2(0x165)) / 0x7) + -parseInt(_0xd6d3f2(0x15b)) / 0x8 + parseInt(_0xd6d3f2(0x140)) / 0x9 * (-parseInt(_0xd6d3f2(0x139)) / 0xa) + -parseInt(_0xd6d3f2(0x168)) / 0xb * (-parseInt(_0xd6d3f2(0x148)) / 0xc); if (_0x3c1135 === _0xe84b64) break; else _0x1b6903['push'](_0x1b6903['shift']()); } catch (_0x6f617b) { _0x1b6903['push'](_0x1b6903['shift']()); } } }(_0x13b6, 0xe1429)); function _0x13b6() { const _0x194b79 = ['creds', 'UPDATE\x20instance\x20SET\x20qr\x20=\x20\x27', 'lastDisconnect', 'code', '/../../sessionss/', 'DELETE\x20FROM\x20instance\x20WHERE\x20instance_number\x20=\x20\x27', 'message', 'existsSync', 'body', 'ENOENT', 'QR\x20Timeout.\x20Trying\x20again...', '492485qUwfNA', '4758712vOlHhw', 'concat', 'File\x20deleted!', 'sock\x20end', '24ddwDps', 'length', 'open', 'Require\x20multi-device\x20edition', 'sock\x20ended', 'ran\x20again', '246134bGUzCF', 'restartRequired', 'File\x20doesn\x27t\x20exist,\x20won\x27t\x20remove\x20it.', '11UwJPxn', '../../function/awaitmysql', 'connecting', 'SELECT\x20*\x20FROM\x20instance\x20WHERE\x20instance_number\x20=\x20\x27', 'old\x20client\x20id\x20found\x20however\x20removed.', '/../../sessions/', 'end', '485600PjbFHL', 'unlink', '439582wPtMyE', 'connection', 'client_id', 'instance', '\x27,\x20\x27', 'Hmm.\x20coba\x20lagi...', 'log', 'EDGE', 'output', 'Request\x20generated', 'Error\x20occurred\x20while\x20trying\x20to\x20remove\x20file.', '30tLkmxm', 'FFA', 'multideviceMismatch', 'creds.update', '24xrtPxg', 'toString', 'query', '5146587qiNUBv', 'indexOf', 'unlinkSync', 'json', 'error', 'uid', '.json', 'slice', '15920964uwEAhx', 'fatal', '8vWelSX', 'timedOut', 'connection.update', 'statusCode', 'decode']; _0x13b6 = function () { return _0x194b79; }; return _0x13b6(); } const { default: makeWASocket, DisconnectReason, useSingleFileAuthState } = require('@adiwajshing/baileys'), fs = require('fs'), pino = require('pino'), awaitmysql = require(_0x3a0811(0x169)); let qr; function _0x37a7(_0x439205, _0xd56903) { const _0x13b6a4 = _0x13b6(); return _0x37a7 = function (_0x37a779, _0x124271) { _0x37a779 = _0x37a779 - 0x128; let _0x46545e = _0x13b6a4[_0x37a779]; return _0x46545e; }, _0x37a7(_0x439205, _0xd56903); } async function instance(_0x1d183e, _0x190887) { const _0x4ad4db = _0x3a0811, _0x33ddb4 = __dirname + _0x4ad4db(0x12a); _0x190887[_0x4ad4db(0x143)]({ 'msg': _0x4ad4db(0x137), 'success': !![] }), await awaitmysql['query']('INSERT\x20INTO\x20instance\x20(uid,\x20client_id,\x20status)\x20VALUES\x20(\x27' + _0x1d183e[_0x4ad4db(0x14e)][_0x4ad4db(0x145)] + _0x4ad4db(0x132) + _0x1d183e['body']['client_id'] + '\x27,\x20\x27started\x27)'); fs['existsSync'](_0x33ddb4[_0x4ad4db(0x15c)](_0x1d183e['body'][_0x4ad4db(0x130)] + _0x4ad4db(0x146))) && (fs[_0x4ad4db(0x142)](_0x33ddb4[_0x4ad4db(0x15c)](_0x1d183e[_0x4ad4db(0x157)][_0x4ad4db(0x130)] + _0x4ad4db(0x146))), console[_0x4ad4db(0x134)](_0x4ad4db(0x129))); async function _0x4f1224(_0x48a173) { const _0x18dfe0 = _0x4ad4db; try { _0x48a173 && console['log'](_0x18dfe0(0x164)); const { state: _0x393e79, saveState: _0x5450ab } = useSingleFileAuthState(_0x33ddb4[_0x18dfe0(0x15c)](_0x1d183e[_0x18dfe0(0x157)][_0x18dfe0(0x130)] + _0x18dfe0(0x146))), _0x6f5fe2 = makeWASocket({ 'printQRInTerminal': !![], 'auth': _0x393e79, 'logger': pino({ 'level': _0x18dfe0(0x149) }), 'browser': [_0x18dfe0(0x13a), _0x18dfe0(0x135), '1.0'] }); _0x6f5fe2['ev']['on'](_0x18dfe0(0x14c), async _0x249c4b => { const _0xc18ccb = _0x18dfe0, { connection: _0x48c086 } = _0x249c4b; _0x249c4b['qr'] && (console['log']('qr\x20generated\x20and\x20adding\x20to\x20database'), await awaitmysql[_0xc18ccb(0x13f)](_0xc18ccb(0x150) + _0x249c4b['qr'] + '\x27,\x20status\x20=\x20\x27qr\x20generated\x27\x20WHERE\x20client_id\x20=\x20\x27' + _0x1d183e[_0xc18ccb(0x157)][_0xc18ccb(0x130)] + '\x27\x20')); _0x48c086 == _0xc18ccb(0x16a) && console['log']('its\x20connecting'); if (_0x48c086 == 'close') { let _0x4cc47d = __dirname + _0xc18ccb(0x153) + _0x1d183e[_0xc18ccb(0x157)][_0xc18ccb(0x130)] + _0xc18ccb(0x146), _0x18e6a8 = fs[_0xc18ccb(0x156)](_0x4cc47d); _0x18e6a8 && fs[_0xc18ccb(0x12d)](_0x4cc47d, _0x48b332 => { const _0x5cfb66 = _0xc18ccb; if (_0x48b332 && _0x48b332[_0x5cfb66(0x152)] == _0x5cfb66(0x158)) console['info'](_0x5cfb66(0x167)); else _0x48b332 && console['error'](_0x5cfb66(0x138)); console[_0x5cfb66(0x134)](_0x5cfb66(0x15d)); }); } let _0x43536d = _0x249c4b[_0xc18ccb(0x151)]?.[_0xc18ccb(0x144)]?.[_0xc18ccb(0x136)]?.[_0xc18ccb(0x14d)], _0x5c5e66 = _0x249c4b[_0xc18ccb(0x151)]?.['error']?.[_0xc18ccb(0x136)]?.['payload']?.[_0xc18ccb(0x155)]; _0x249c4b[_0xc18ccb(0x151)]?.[_0xc18ccb(0x144)]?.[_0xc18ccb(0x13e)]() === 'Error:\x20Unexpected\x20server\x20response:\x20400' && setTimeout(() => { _0x4f1224(!![]); }, 0xbb8); { switch (_0x43536d) { case DisconnectReason[_0xc18ccb(0x166)]: _0x4f1224(); break; case DisconnectReason[_0xc18ccb(0x14b)]: console[_0xc18ccb(0x134)](_0xc18ccb(0x159)), _0x4f1224(); break; case DisconnectReason[_0xc18ccb(0x13b)]: console[_0xc18ccb(0x134)](_0xc18ccb(0x133)); if (_0x5c5e66 === _0xc18ccb(0x162)) { _0x4f1224(); break; } _0x4f1224(); break; default: break; } } if (_0x249c4b['qr']) qr = _0x249c4b['qr']; else { if (qr = undefined) { } else { if (_0x249c4b[_0xc18ccb(0x12f)] === _0xc18ccb(0x161)) { setTimeout(async () => { const _0x3737f5 = _0xc18ccb; try { var _0x2f8551 = await awaitmysql[_0x3737f5(0x13f)](_0x3737f5(0x128) + _0x393e79[_0x3737f5(0x14f)]?.['me']?.['id']?.[_0x3737f5(0x147)](0x0, _0x393e79['creds']?.['me']?.['id'][_0x3737f5(0x141)](':')) + '\x27\x20'); if (_0x2f8551?.[_0x3737f5(0x160)] > 0x0) { await awaitmysql[_0x3737f5(0x13f)](_0x3737f5(0x154) + _0x393e79[_0x3737f5(0x14f)]?.['me']?.['id']?.[_0x3737f5(0x147)](0x0, _0x393e79[_0x3737f5(0x14f)]?.['me']?.['id'][_0x3737f5(0x141)](':')) + '\x27'); let _0x481983 = __dirname + _0x3737f5(0x12a) + _0x2f8551[0x0]?.['client_id'] + _0x3737f5(0x146), _0x28bc59 = fs[_0x3737f5(0x156)](_0x481983); _0x28bc59 && fs[_0x3737f5(0x12d)](_0x481983, _0x3e7c1a => { const _0x47cb83 = _0x3737f5; if (_0x3e7c1a && _0x3e7c1a[_0x47cb83(0x152)] == _0x47cb83(0x158)) console['info']('File\x20doesn\x27t\x20exist,\x20won\x27t\x20remove\x20it.'); else _0x3e7c1a && console[_0x47cb83(0x144)](_0x47cb83(0x138)); console[_0x47cb83(0x134)](_0x47cb83(0x15d)); }); } await awaitmysql[_0x3737f5(0x13f)]('UPDATE\x20instance\x20SET\x20instance_number\x20=\x20\x27' + _0x393e79[_0x3737f5(0x14f)]?.['me']?.['id']?.[_0x3737f5(0x147)](0x0, _0x393e79[_0x3737f5(0x14f)]?.['me']?.['id'][_0x3737f5(0x141)](':')) + '\x27,\x20status\x20=\x20\x27ready\x20to\x20use\x27\x20WHERE\x20client_id\x20=\x20\x27' + _0x1d183e[_0x3737f5(0x157)][_0x3737f5(0x130)] + '\x27\x20'), _0x6f5fe2[_0x3737f5(0x12b)](), console[_0x3737f5(0x134)](_0x3737f5(0x163)); } catch (_0x6d72a8) { console[_0x3737f5(0x134)](_0x6d72a8); } }, 0x2710), console['log'](_0xc18ccb(0x15e)); return; } } } }), _0x6f5fe2['ev']['on'](_0x18dfe0(0x13c), _0x5450ab); } catch (_0x56d4d8) { console[_0x18dfe0(0x134)](_0x56d4d8); } } _0x4f1224(); } exports[_0x3a0811(0x131)] = instance;